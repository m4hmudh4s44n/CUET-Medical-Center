<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Profile | CUET Medical Center</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <style>
        body {
            background: linear-gradient(135deg, #e0f2fe 0%, #f5faff 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
            margin: 0;
            overflow-x: hidden;
        }
        .floating-medical-icon {
            position: fixed;
            top: 85%;
            left: 90%;
            width: 120px;
            height: 125px;
            z-index: 100;
            opacity: 0.50;
            animation: floatY 2.5s ease-in-out infinite alternate;
            pointer-events: none;
            transform: translate(-50%, -50%);
        }
        @keyframes floatY {
            0% { transform: translateY(0);}
            100% { transform: translateY(-20px);}
        }
        @media (max-width: 900px) {
            .floating-medical-icon { display: none; }
        }
        .profile-container {
            max-width: 1100px;
            margin: 8vh auto 3rem auto; /* Increased top margin for better centering */
            background: #fff;
            border-radius: 28px;
            box-shadow: 0 12px 48px #0188df22;
            padding: 4.5rem 3.5rem 3.5rem 3.5rem; /* More padding for larger box */
            position: relative;
            animation: fadeInUp 1.2s;
        }
        .profile-photo-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: -120px;
            margin-bottom: 2.2rem;
        }
        .profile-photo {
            width: 230px;
            height: 230px;
            border-radius: 50%;
            object-fit: cover;
            border: 10px solid #e0f2fe;
            box-shadow: 0 12px 48px #0188df33;
            background: #e0f2fe;
            transition: box-shadow 0.3s, transform 0.3s;
            animation: profilePop 1.2s;
        }
        .profile-photo:hover {
            box-shadow: 0 16px 48px #0188df44;
            transform: scale(1.04);
        }
        @keyframes profilePop {
            0% { opacity: 0; transform: scale(0.7);}
            80% { opacity: 1; transform: scale(1.08);}
            100% { opacity: 1; transform: scale(1);}
        }
        .profile-info {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        .profile-info h2 {
            font-size: 3rem;
            color: #0188df;
            margin-bottom: 0.3rem;
            font-weight: 800;
            letter-spacing: 1px;
            background: linear-gradient(90deg, #0188df 60%, #1a355b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .profile-info .profile-meta {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            margin-bottom: 1.2rem;
            flex-wrap: wrap;
        }
        .profile-info .profile-meta span {
            font-size: 1.35rem;
            color: #1a355b;
            background: #e0f2fe;
            border-radius: 12px;
            padding: 0.7rem 1.7rem;
            margin: 0 0.2rem;
            font-weight: 600;
            box-shadow: 0 2px 8px #0188df11;
            animation: badgePop 1.2s;
        }
        @keyframes badgePop {
            0% { transform: scale(0.7); opacity: 0; }
            60% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1);}
        }
        .profile-info .profile-email {
            color: #0188df;
            font-size: 1.35rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .edit-profile-btn {
            background: #0188df;
            color: #fff;
            border: none;
            padding: 1rem 3rem;
            border-radius: 32px;
            font-size: 1.3rem;
            cursor: pointer;
            transition: background 0.2s, transform 0.2s;
            box-shadow: 0 2px 8px #0188df22;
            margin-top: 0.7rem;
        }
        .edit-profile-btn:hover {
            background: #1a355b;
            transform: translateY(-2px) scale(1.04);
        }
        .logout-btn {
            background: #e74c3c;
            color: #fff;
            border: none;
            padding: 1rem 2rem;
            border-radius: 32px;
            font-size: 1.3rem;
            cursor: pointer;
            transition: background 0.2s, transform 0.2s;
            box-shadow: 0 2px 8px #e74c3c22;
            margin-top: 0.7rem;
        }
        .logout-btn:hover {
            background: #c0392b;
            transform: translateY(-2px) scale(1.04);
        }
        .section-title {
            font-size: 2rem;
            color: #0188df;
            font-weight: 700;
            margin-bottom: 1.7rem;
            margin-top: 3.5rem;
            letter-spacing: 1px;
            position: relative;
            text-align: left;
            animation: fadeInDown 1s;
        }
        .records-table, .reports-table {
            width: 100%;
            border-radius: 12px;
            background: #f8fcff;
            box-shadow: 0 2px 12px #0188df11;
            margin-bottom: 2rem;
            border-collapse: separate;
            border-spacing: 0;
            animation: fadeInUp 1s;
            font-size: 1.18em;
        }
        .records-table th, .records-table td,
        .reports-table th, .reports-table td {
            padding: 1.2rem 1.3rem;
            text-align: left;
            font-size: 1.08em;
        }
        .records-table th, .reports-table th {
            color: #0188df;
            font-weight: 700;
            background: #e0f2fe;
            letter-spacing: 1px;
        }
        .records-table tr, .reports-table tr {
            transition: background 0.2s;
        }
        .records-table tr:hover, .reports-table tr:hover {
            background: #e0f2fe;
        }
        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(40px);}
            to { opacity: 1; transform: translateY(0);}
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-40px);}
            to { opacity: 1; transform: translateY(0);}
        }
        /* Responsive */
        @media (max-width: 1200px) {
            .profile-container { max-width: 98vw; padding: 2rem 0.5rem; }
            .profile-photo { width: 140px; height: 140px; }
            .profile-info h2 { font-size: 2rem; }
            .section-title { font-size: 1.2rem; }
        }
        @media (max-width: 900px) {
            .profile-container { padding: 1.5rem 0.5rem; }
            .profile-photo { width: 120px; height: 120px; }
            .profile-info h2 { font-size: 1.5rem; }
            .section-title { font-size: 1.1rem; }
        }
        @media (max-width: 700px) {
            .profile-photo-wrapper { margin-top: -60px; }
            .profile-photo { width: 90px; height: 90px; }
            .profile-info .profile-meta { gap: 1rem; }
            .profile-container { padding: 1rem 0.2rem; }
        }
        @media (max-width: 600px) {
            .profile-photo-wrapper { margin-top: -60px; }
            .profile-photo { width: 80px; height: 80px; }
            .profile-info .profile-meta { gap: 1rem; }
        }
    </style>
</head>
<body>
    <img src="./images/cuet_logo.png" alt="CUET Logo" class="floating-medical-icon">

    <div class="profile-container">
        <div class="profile-photo-wrapper">
            <img src="./images/profile.jpg" alt="Profile Photo" class="profile-photo" id="profile-photo">
        </div>
        <div class="profile-info">
            <h2 id="profile-name">Mahmudul Hasan</h2>
            <div class="profile-meta">
                <span id="profile-age"><i class="fa fa-cake-candles"></i> Age: 23</span>
                <span id="profile-studentid"><i class="fa fa-id-card"></i> Student ID: 2104101</span>
            </div>
            <div class="profile-email">
                <i class="fa fa-envelope"></i>
                <span id="profile-email">u2104101@student.cuet.ac.bd</span>
            </div>
            <button class="edit-profile-btn" onclick="editProfile()"><i class="fa fa-edit"></i> Edit Profile</button>
            <button class="logout-btn" onclick="logout(), updateNavbarAuth()" style="margin-left: 15px; background: #e74c3c;"><i class="fa fa-sign-out-alt"></i> Logout</button>
        </div>

        <div>
            <div class="section-title"><i class="fa fa-user-md"></i> Previous Doctors & Prescriptions</div>
            <table class="records-table">
                <thead>
                    <tr>
                        <th>Doctor</th>
                        <th>Date</th>
                        <th>Prescription</th>
                        <th>Download</th>
                    </tr>
                </thead>
                <tbody id="doctor-records">
                    <!-- JS will fill -->
                </tbody>
            </table>
        </div>

        <div>
            <div class="section-title"><i class="fa fa-flask"></i> Experiment Reports</div>
            <table class="reports-table">
                <thead>
                    <tr>
                        <th>Experiment</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th>Report</th>
                    </tr>
                </thead>
                <tbody id="experiment-reports">
                    <!-- JS will fill -->
                </tbody>
            </table>
        </div>
    </div>
    <script src="./js/main.js"></script>
    <script>
    // Example user data (replace with real data from backend/localStorage)
    const userProfile = {
        photo: './images/profile.jpg', // Use your uploaded image
        name: localStorage.getItem('userName') || 'Mahmudul Hasan',
        age: localStorage.getItem('userAge') || 23,
        studentId: localStorage.getItem('userStudentId') || '2104101',
        email: localStorage.getItem('userEmail') || 'u2104101@student.cuet.ac.bd'
    };
    const doctorRecords = [
        { doctor: "Dr. Ilias Khan", date: "2024-06-01", prescription: "Paracetamol, Ibuprofen", file: "prescription1.pdf" },
        { doctor: "Dr. Akbar Shah", date: "2024-05-15", prescription: "Amoxicillin", file: "prescription2.pdf" }
    ];
    const experimentReports = [
        { experiment: "COVID-19 Vaccine Trial", date: "2024-06-05", status: "Completed", file: "covid_report.pdf" },
        { experiment: "Diabetes Management Study", date: "2024-05-20", status: "Ongoing", file: "" }
    ];

    // Fill profile info
    document.getElementById('profile-photo').src = userProfile.photo;
    document.getElementById('profile-name').textContent = userProfile.name;
    document.getElementById('profile-age').innerHTML = `<i class="fa fa-cake-candles"></i> Age: ${userProfile.age}`;
    document.getElementById('profile-studentid').innerHTML = `<i class="fa fa-id-card"></i> Student ID: ${userProfile.studentId}`;
    document.getElementById('profile-email').textContent = userProfile.email;

    // Fill doctor records
    document.getElementById('doctor-records').innerHTML = doctorRecords.map(r => `
        <tr>
            <td>${r.doctor}</td>
            <td>${r.date}</td>
            <td>${r.prescription}</td>
            <td>
                ${r.file ? `<a href="./files/${r.file}" download class="download-link"><i class="fa fa-download"></i> Download</a>` : ''}
            </td>
        </tr>
    `).join('');

    // Fill experiment reports
    document.getElementById('experiment-reports').innerHTML = experimentReports.map(r => `
        <tr>
            <td>${r.experiment}</td>
            <td>${r.date}</td>
            <td>${r.status}</td>
            <td>
                ${r.file ? `<a href="./files/${r.file}" download class="download-link"><i class="fa fa-file-pdf"></i> Download</a>` : '<span style="color:#aaa;">Pending</span>'}
            </td>
        </tr>
    `).join('');

    // Edit profile (demo)
    function editProfile() {
        alert('Profile editing coming soon!');
    }

    // Logout function (demo)
    function logout() {
        localStorage.removeItem('isLoggedIn');
        // Optionally remove other user info
        localStorage.removeItem('userName');
        window.location.href = "index.html";
    }


    </script>
</body>
</html>